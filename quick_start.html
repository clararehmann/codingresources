<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>quick_start</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="talapas-very-quick-start-guide">Talapas (very) quick start guide</h1>
<h5 id="compiled-from-the-uo-talapas-documentation.-login-and-file-transfer-instructions-are-for-a-linux-or-mac-os-x-system.-if-you-are-working-with-a-windows-system-check-out-the-windows-subsystem-for-linux-or-an-ssh-client-like-putty-or-mobaxterm.">Compiled from <a href="https://hpcrcf.atlassian.net/wiki/spaces/TCP/">the UO Talapas documentation</a>. Login and file transfer instructions are for a Linux or Mac OS X system. If you are working with a Windows system, check out the <a href="https://docs.microsoft.com/en-us/windows/wsl/faq">Windows subsystem for Linux</a> or an SSH client like Putty or MobaXterm.</h5>
<h2 id="shelling-in">1. Shelling in</h2>
<p>Open Terminal. The following command will use the <a href="https://en.wikipedia.org/wiki/Secure_Shell_Protocol">SSH protocol</a> to connect your terminal to Talapas, after prompting you for your password.</p>
<pre><code>ssh &lt;myDuckID&gt;@talapas-ln1.uoregon.edu
</code></pre>
<h4 id="transferring-files-to-and-from-talapas">1.5 Transferring files to and from Talapas</h4>
<p>To move files to Talapas from your local machine, open a local terminal and type:</p>
<pre><code>scp -r path/to/file_local &lt;myDuckID&gt;@talapas-ln1.uoregon.edu:./path/to/file_tp
</code></pre>
<p>To move files from Talapas to your local machine, open a local terminal and type:</p>
<pre><code>rsync -auv &lt;myDuckID&gt;@talapas-ln1.uoregon.edu:./path/to/file_tp path/to/file_local
</code></pre>
<h2 id="using-software">2. Using software</h2>
<p>On Talapas, software packages are stored in modules using the <a href="https://lmod.readthedocs.io/en/latest/">Lmod environment</a>.</p>
<p>To see currently loaded modules:</p>
<pre><code>module list
</code></pre>
<p>To see currently available modules:</p>
<pre><code>module avail
</code></pre>
<p>To search for a module (eg, <code>blast</code>):</p>
<pre><code>module spider blast
</code></pre>
<p>Loading an available module allows you to use its commands:</p>
<pre><code>module load &lt;modulename&gt;
</code></pre>
<p>And you can unload a module if it’s unnecessary or conflicts with something:</p>
<pre><code>module unload &lt;modulename&gt;
</code></pre>
<h2 id="running-a-job">3. Running a job</h2>
<p>Talapas allows you to submit <strong>batch jobs</strong> (directions for running code) to the <strong>cluster</strong>, which sends the job to <strong>nodes</strong> (computers that will run your code). The <a href="https://slurm.schedmd.com/">SLURM job scheduler</a> is used to partition what jobs run when on which nodes.</p>
<p>To submit jobs to be run on the cluster, use a batch script, which specifies the resources needed to run the job and the actual code used to execute the job (an in-depth example can be found at <code>scripts/job.batch</code>; the following is a basic example):</p>
<h5 id="example_job.batch">example_job.batch</h5>
<pre><code>#!/bin/bash

#SBATCH --account=&lt;account&gt;
#SBATCH --partition=&lt;partition&gt;
#SBATCH --job-name=example
#SBATCH --output=example.out
#SBATCH --error=example.err

code to execute
</code></pre>
<p>To enter the job into the SLURM queue, use:</p>
<pre><code>sbatch example_job.batch
</code></pre>
<p>Once your job is submitted, it will be managed by SLURM - that means you can log out of Talapas, use your terminal for other things, or even shut down your local machine without interrupting your code.</p>
<p>After you submit a job, it will be given a job ID, which you can use to check in on it.</p>
<pre><code>$ sbatch example_job.batch
Submitted batch job 00000

# check the job's position in the queue
$ squeue -j 00000
	JOBID  PARTITION  NAME    USER  ST  TIME  NODES  NODELIST(REASON)
	00000     short  example  user   R   5:08     1   n003
</code></pre>
</div>
</body>

</html>
